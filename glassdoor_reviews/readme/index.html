
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Gaby Agrocostea">
      
      
        <link rel="canonical" href="https://gabya06.github.io/glassdoor_reviews/readme/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../../genre_predictions/readme/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Sentiment Analysis on Glassodoor Reviews - Gaby's Data Science Portfolio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sentiment-analysis-on-glassdoorcom-data-science-jobs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Gaby&#39;s Data Science Portfolio" class="md-header__button md-logo" aria-label="Gaby's Data Science Portfolio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Gaby's Data Science Portfolio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sentiment Analysis on Glassodoor Reviews
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gabya06/gabya06.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    gabya06/gabya06.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Gaby&#39;s Data Science Portfolio" class="md-nav__button md-logo" aria-label="Gaby's Data Science Portfolio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Gaby's Data Science Portfolio
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gabya06/gabya06.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    gabya06/gabya06.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Current project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Current project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sentiment Analysis on Glassodoor Reviews
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sentiment Analysis on Glassodoor Reviews
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-scrapping-glassdoor-data" class="md-nav__link">
    <span class="md-ellipsis">
      Web Scrapping Glassdoor Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      Text Preprocessing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-exploration-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exploration &amp; Visualization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Exploration & Visualization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wordclouds" class="md-nav__link">
    <span class="md-ellipsis">
      WordClouds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sentiment-analysis-using-textblob-polarity-and-subjectivity" class="md-nav__link">
    <span class="md-ellipsis">
      Sentiment Analysis using TextBlob Polarity and Subjectivity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sentiment Analysis using TextBlob Polarity and Subjectivity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#but-can-we-trust-stars-given-in-reviews" class="md-nav__link">
    <span class="md-ellipsis">
      But can we trust stars given in reviews?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vader-and-sentiment-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      VADER and Sentiment Analysis
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Previous data science projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Previous data science projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../genre_predictions/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predicting Movie Genres using Machine Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ensemble/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ensemble Models for Price Forecasting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-scrapping-glassdoor-data" class="md-nav__link">
    <span class="md-ellipsis">
      Web Scrapping Glassdoor Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      Text Preprocessing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-exploration-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exploration &amp; Visualization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Exploration & Visualization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wordclouds" class="md-nav__link">
    <span class="md-ellipsis">
      WordClouds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sentiment-analysis-using-textblob-polarity-and-subjectivity" class="md-nav__link">
    <span class="md-ellipsis">
      Sentiment Analysis using TextBlob Polarity and Subjectivity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sentiment Analysis using TextBlob Polarity and Subjectivity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#but-can-we-trust-stars-given-in-reviews" class="md-nav__link">
    <span class="md-ellipsis">
      But can we trust stars given in reviews?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vader-and-sentiment-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      VADER and Sentiment Analysis
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="sentiment-analysis-on-glassdoorcom-data-science-jobs">Sentiment Analysis on glassdoor.com data science jobs</h1>
<h3 id="project-overview">Project Overview</h3>
<p>The goal of this project was to scrape some reviews from glassdoor.com from data science job postings and to analyze company reviews and perform sentiment analysis to understand what users were writing. I also wanted to investigate how the number of stars given to a company related to the sentiment in the review. 
I wrote an article on my page on <a href="https://medium.com/@gabya06/python-sentiment-analysis-using-textblob-and-vader-for-glassdoor-reviews-cc9632babb73">medium.com</a> and I also wanted to share the jupyter notebook.</p>
<h3 id="web-scrapping-glassdoor-data">Web Scrapping Glassdoor Data</h3>
<p>Since glassdoor.com does not have an available API, I decided to try out web scrapping on a few glassdoor.com machine learning job listings with company reviews.  I was only able to scrape a small amount of reviews before getting the 403 Forbidden Error. To scrape data I used Selenium and BeautifulSoup packages. Below are two of the main functions I used to scrape data using BeatufifulSoup:</p>
<pre><code class="language-python">def get_page(url, headers):
    &quot;&quot;&quot;
    Function to get webpage results into Beautifulsoup object
    &quot;&quot;&quot;
    try:
        req = Request(url, headers=headers)
        page = urlopen(req)
        soup = BeautifulSoup(page, &quot;html.parser&quot;)
        return soup
    except HTTPError as e:
        print(f&quot;Error opening page {e}&quot;)
</code></pre>
<p>To pull job listings I used the below:</p>
<pre><code class="language-python">def get_jobs():
    &quot;&quot;&quot;
    Function to get job listing table from glassdoor.com
        It will load webpage first then loop through table
        It will return data with columns:
            [company, job_title, job_url, job_id]
    &quot;&quot;&quot;

    # load webpage using Beautifulsoup first
    soup = get_page()
    table = soup.find(&quot;table&quot;)
    table_rows = table.find_all(&quot;tr&quot;)

    data_dict = {}
    data_list = []

    # loop through table rows and extract information to dictionary
    for elem in table_rows[1:]:
        try:
            data_dict[&quot;company&quot;] = elem.find(&quot;td&quot;, {&quot;class&quot;: &quot;company&quot;}).text
        except AttributeError:
            data_dict[&quot;company&quot;] = None
        try:
            data_dict[&quot;job_title&quot;] = elem.find(&quot;td&quot;, {&quot;class&quot;: &quot;job_title&quot;}).text
        except AttributeError:
            data_dict[&quot;job_title&quot;] = None
        try:
            data_dict[&quot;job_url&quot;] = elem.find(&quot;a&quot;, {&quot;class&quot;: &quot;jobLink&quot;})[&quot;href&quot;]
        except AttributeError:
            data_dict[&quot;job_url&quot;] = None

        data_list.append(data_dict)
        data_dict = {}
    # put results in dataframe
    data = pd.DataFrame(data_list)
    # add column with job listing Id number
    data = data.assign(
        job_id=data.job_url.map(
            lambda x: re.findall(pattern=&quot;jobListingId=[0-9]+&quot;, string=x)[0]
        ).map(lambda x: x.strip(&quot;jobListingId=&quot;))
    )
    # add column with url
    listing_base_url = f&quot;https://www.glassdoor.com/job-listing/?jl=&quot;
    data = data.assign(
        url=data.job_id.map(lambda x: listing_base_url + str(x))
    )

    return data
</code></pre>
<h3 id="text-preprocessing">Text Preprocessing</h3>
<p>In order to proceed with sentiment analysis, I first had to do some text preprocessing: remove punctuation, numbers and stop words. When working on NLP projects, I am usually a big fan of the NLTK library, but this time I wanted to try out TextBlob. Cleaning text data can be as simple as the below line of code:</p>
<pre><code class="language-python"># assign new clean review column
df = df.assign(clean_review = df.reviews.map(lambda x: ' '.join(TextBlob(str(x)).words)))
</code></pre>
<p>In addition, I removed common words such "a", "an","the","in" which usually get ignored by typical tokenizers. These are called stopwords and NLTK includes a list of 40 stop words, but you can add more words and customize your own list of stopwords. </p>
<pre><code class="language-python"># Remove stopwords &amp; lowercase
df.clean_review = df.clean_review.map(lambda x: &quot; &quot;.join([i.lower() for i in x.split() if i not in stopwords.words('english')]))
</code></pre>
<h3 id="data-exploration-visualization">Data Exploration &amp; Visualization</h3>
<p>Once the data is cleaned I can finally move on to the fun part, visualizations! I wanted to create a word cloud of the most frequent words in the reviews, so I created word counts:</p>
<pre><code class="language-python"># collect words
word_list = []
word_list.extend(df.clean_review.str.split())
# flatten list of words - exclude the word reviews
word_list = [item for row in word_list for item in row if item !='reviews']
# create counter - we want word frequencies
word_counts = Counter(word_list)
</code></pre>
<p>And what words appear the most?
"good", "work", "people", "great", "benefits", "culture", "balance", "pay", "management", "life" are all among the top 10 most common words in the dataset. This isnt surprising, I think it represents what most people are looking for in a good work environment. </p>
<h4 id="wordclouds">WordClouds</h4>
<p>Creating wordcloud visualizations are pretty straightforward once you have the word counts:</p>
<pre><code class="language-python"># Wordcloud
wordcloud = WordCloud(width = 300,
                      height = 300,
                      background_color='white',
                      max_font_size=50, max_words=150)

wordcloud = wordcloud.generate_from_frequencies(word_counts)

# plot words
plt.figure(figsize=(6,4),facecolor = 'white', edgecolor='blue')
plt.imshow(wordcloud, interpolation=&quot;bilinear&quot;)
plt.axis(&quot;off&quot;)
plt.tight_layout(pad=0)
plt.title(&quot;Top Glassdoor.com words&quot;)
plt.savefig(&quot;review_wordcloud.png&quot;)
plt.show()
</code></pre>
<p><img alt="review_wordcloud" src="../review_wordcloud.png" /></p>
<hr />
<h2 id="sentiment-analysis-using-textblob-polarity-and-subjectivity">Sentiment Analysis using TextBlob Polarity and Subjectivity</h2>
<p>TextBlob provides the ability to look at sentiment analysis by breaking it down into polarity and subjectivity:</p>
<ul>
<li>Polarity is between -1 and 1: it identifies the most negative as -1 and positive as +1</li>
<li>Subjectivity is between 0 and 1 and shows the amount of personal opinion: 0 is very objective while 1 is subjective</li>
<li>TextBlob allows us to see the sentiment for each word using sentiment_assessment, so we can get a better understanding of how words are scored</li>
</ul>
<p>Finding the polarity and subjectivity in a string using TextBlob can be done in a few lines of code:</p>
<pre><code class="language-python">sample_string = df.clean_review.iloc[0]
# polarity &amp; subjectivity:
print(f&quot;Sample Review:\n{sample_string}\nTextBlob polarity:{TextBlob(sample_string).sentiment.polarity}&quot;
      f&quot; and subjectivity:{TextBlob(sample_string).subjectivity}&quot;)

# we can see the sentiment assessment of each word in our sample sentence
TextBlob(sample_string).sentiment_assessments[2]
</code></pre>
<p>python output:</p>
<p>Sample Review with 4.1 stars:
<em>good place retire since benefits good willing sacrifice salary/growth reviews great culture open learning environment reviews nice people work reviews very flexible good work life balance reviews good pay good hours reviews long hours culture staying late reviews difficult maintain good work/life balance reviews bad pay promotion hard get reviews
TextBlob polarity:0.26 and subjectivity:0.63</em></p>
<p>Note: the above sample review is cleaned: it has stopwords removed, no numbers and stripped whitespaces.</p>
<p>Part of the sentiment assessment looks like this. It returns a tuple with (polarity, subjectivity, assessments). We see more negative words "bad", "difficult" and "hard" have negative polarity.</p>
<p>[(['good'], 0.7, 0.60, None),
 (['willing'], 0.25, 0.75, None),
 (['great'], 0.8, 0.75, None),
 (['open'], 0.0, 0.5, None),
 (['nice'], 0.6, 1.0, None),
 (['long'], -0.05, 0.4, None),
 (['late'], -0.3, 0.6, None),
 (['difficult'], -0.5, 1.0, None),
 (['bad'], -0.699, 0.66, None),
 (['hard'], -0.29, 0.54, None)]</p>
<p>.... So far so good, it looks like TextBlob assigns a more positive sentiment score to the first review which makes sense and also aligns with the number of stars on glassdoor.com.</p>
<h3 id="but-can-we-trust-stars-given-in-reviews">But can we trust stars given in reviews?</h3>
<ul>
<li>After plotting polarity and stars, we can see that polarity should be increasing as stars increase but this is not the case.</li>
<li>Polarity is higher for 3.75 star rated reviews than for reviews with 4.0 stars. This is inconsistent with what we would expect.</li>
<li>We also see the review for the "worse" rating of 3.1 does not correspond to a negative review</li>
</ul>
<pre><code class="language-python"># let's find worse review
worse_stars = df.stars.min()
worse_review = df[df.stars == df.stars.min()].clean_review.values[0]
worse_company = df[df.stars == worse_stars].company.values[0]
w_polarity = TextBlob(worse_review).polarity
w_subjectivity = TextBlob(worse_review).subjectivity

# here we can see that this review is not bad: Textblob identifies it as more positive than negative based on polarity closer to 1
print(f&quot;{worse_company} with {worse_stars} has the worse review:\n{worse_review}&quot;)
print(f&quot;\nBut TextBlob indicates it has {w_polarity} polarity and {w_subjectivity}&quot;)
</code></pre>
<p>python output:</p>
<p>Epic Pharma LLC with 3.1 has the worse review:</p>
<blockquote>
<p>the people working company nice reviews 'no cons reported glassdoor community</p>
</blockquote>
<p>But TextBlob indicates it has 0.6 polarity and 1.0</p>
<p>When plotting polarity and subjectivity vs. stars given we see that polarity should be increasing as stars increase but that is not always the case. 
For example, polarity is higher for 3.75 star rated reviews than for reviews with 4.0 stars.</p>
<p><img alt="textblob_sentiments" src="../textblob_sentiments.png" /></p>
<hr />
<h2 id="vader-and-sentiment-analysis">VADER and Sentiment Analysis</h2>
<blockquote>
<p>VADER Sentiment Analysis. VADER (Valence Aware Dictionary and Sentiment Reasoner) is a lexicon and rule-based sentiment analysis tool that is specifically attuned to sentiments expressed in social media, and works well on texts from other domains.</p>
</blockquote>
<p>It’s important to understand the output VADER provides: it is a Python dictionary with keys ‘neg’, ‘neu’, ‘pos’ — which correspond to Negative, Neutral, and Positive. It also has a Compound score which is a score calculated by normalizing the other 3 scores (neg, neu, pos). This score tells us the intensity or degree of the sentiment and not the actual values. Its values range from -1 (for extreme negative sentiment) to +1 (for extreme positive sentiment).</p>
<p>Using the compound score can be enough to determine the underlying sentiment of a text, because for:</p>
<p>a positive sentiment, compound ≥ 0.05
a negative sentiment, compound ≤ -0.05
a neutral sentiment, the compound is between [-0.05, 0.05]</p>
<pre><code class="language-python"># initialize sentiment analyzer
sid_obj = SentimentIntensityAnalyzer()
# going back to our sample string
# it has a high compound score! it's positive
sid_obj.polarity_scores(sample_string)
</code></pre>
<p>Here is our sample string:</p>
<blockquote>
<p>'good place retire since benefits good willing sacrifice salary/growth reviews great culture open learning environment reviews nice people work reviews very flexible good work life balance reviews good pay good hours reviews long hours culture staying late reviews difficult maintain good work/life balance reviews bad pay promotion hard get reviews'</p>
</blockquote>
<p>And the sentiment analyzer output:
{'neg': 0.137, 'neu': 0.469, 'pos': 0.394, 'compound': 0.9646}</p>
<p>Once we get all the compound, positive and negative scores we can plot them each against the stars given:</p>
<p>Since compound scores greater than or equal to 0.5 are considered positive we should see a more linear relationship:</p>
<p><img alt="vader_compoundscores" src="../vader_compoundscores.png" /></p>
<p>Here we see the positive scores vs. stars given: </p>
<p><img alt="vader_pos_scores" src="../vader_pos_scores.png" /></p>
<p>And lastly, here are the negative scores vs. stars given:
<img alt="vader_neg_scores" src="../vader_neg_scores.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>